@model EntertainmentGuildStore.Models.Item

<div class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            @if (Model.MainImage != null)
            {
                <img src="data:image/png;base64,@Convert.ToBase64String(Model.MainImage)"
                     alt="@Model.Name" class="img-fluid" />
            }

            @if (Model.SideImage != null)
            {
                <div class="mt-2">
                    <img src="data:image/png;base64,@Convert.ToBase64String(Model.SideImage)"
                         alt="@Model.Name second view" class="img-thumbnail" />
                </div>
            }

            <ul class="mt-3">
                @if (!string.IsNullOrWhiteSpace(Model.Feature1))
                {
                    <li>@Model.Feature1</li>
                }
                @if (!string.IsNullOrWhiteSpace(Model.Feature2))
                {
                    <li>@Model.Feature2</li>
                }
                @if (!string.IsNullOrWhiteSpace(Model.Feature3))
                {
                    <li>@Model.Feature3</li>
                }
                @if (!string.IsNullOrWhiteSpace(Model.Feature4))
                {
                    <li>@Model.Feature4</li>
                }
            </ul>
        </div>

        <div class="col-md-6">
            <h2>@Model.Name</h2>
            <p><strong>Type:</strong> @Model.Category</p>
            <p><strong>Price:</strong> <span style="color:red;">$@Model.Price</span></p>
            <p><strong>Condition:</strong> New</p>
            <p><strong>Description:</strong> @Model.Description</p>

            <form asp-controller="Cart" asp-action="AddToCart" method="post">
                <input type="hidden" name="id" value="@Model.Id" />
                <button type="submit" class="btn btn-danger btn-lg mt-3">ADD TO CART</button>
            </form>

            <div class="mt-4">
                <h4>Explore relevant</h4>
                <div class="row mt-3">
                    @if (ViewBag.RelatedItems != null)
                    {
                        foreach (var related in ViewBag.RelatedItems)
                        {
                            <div class="col-md-4 text-center">
                                <a asp-action="Details" asp-controller="Store" asp-route-id="@related.Id" class="text-decoration-none">
                                    @if (related.MainImage != null)
                                    {
                                        <img src="data:image/png;base64,@Convert.ToBase64String(related.MainImage)"
                                             class="img-fluid mb-2" style="height: 120px; object-fit: cover;" />
                                    }
                                    else
                                    {
                                        <img src="/images/no-image.png" class="img-fluid mb-2" style="height: 120px;" />
                                    }
                                    <div><strong>@related.Name</strong></div>
                                    <div>Price: $@related.Price</div>
                                </a>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</div>
